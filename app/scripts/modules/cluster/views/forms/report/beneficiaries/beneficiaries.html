
<style>
  
  .collection.with-header .collection-item.avatar{
    padding-left: 51 !important;
  }

</style>

<div style="padding-left: 20px;">
  <table class="bordered responsive-table" style="margin-bottom:10px;" ng-show="project.report.locations[$locationIndex].beneficiaries.length">
    <tr style="font-weight: 400">
      <td>Activity</td>
      <td>Description</td>
      <td>Beneficiary</td>
      <td>Delivery</td>
      <td ng-show="project.showSessions()">Sessions</td>
      <td ng-show="project.definition.cluster_id === 'wash' || project.definition.cluster_id === 'esnfi'">Families</td>
      <td>Boys</td>
      <td>Girls</td>
      <td>Men</td>
      <td>Women</td>
      <td ng-show="project.report.report_status !== 'complete'">Edit</td>
    </tr>
    <tr ng-repeat="beneficiary in project.report.locations[$locationIndex].beneficiaries track by $index">
      <td>
        <!-- editable activity_type from Project -->
        <span e-placeholder="Select..." editable-select="beneficiary.activity_type_id" e-name="activity_type_id" e-form="rowform" e-ng-options="a_t.activity_type_id as a_t.activity_type_name for a_t in project.definition.activity_type">
          {{ project.showActivity($data, beneficiary) }}
        </span>
      </td>
      <td>
        <!-- editable activity_description from Project -->
        <span e-placeholder="Select..." editable-select="beneficiary.activity_description_id" e-name="activity_description_id" e-form="rowform" e-ng-options="a_d.activity_description_id as a_d.activity_description_name for a_d in project.activity_descriptions | filter: { activity_type_id: beneficiary.activity_type_id }" e-ng-disabled="!beneficiary.activity_type_id">
          {{ project.showDescription($data, beneficiary) }}
        </span>
      </td>
      <td>
        <!-- editable group (select-remote) -->
        <span e-placeholder="Select..." editable-select="beneficiary.beneficiary_type_id" e-name="beneficiary_type_id" e-form="rowform" e-ng-options="b.beneficiary_type_id as b.beneficiary_type_name for b in project.beneficiary_types"  e-ng-disabled="!beneficiary.activity_description_id">
          {{ project.showBeneficiary($data, beneficiary) }}
        </span>
      </td>
      <td>
        <!-- editable group (select-remote) -->
        <span e-placeholder="Select..." editable-select="beneficiary.delivery_type_id" e-name="delivery_type_id" e-form="rowform" e-ng-options="b.delivery_type_id as b.delivery_type_name for b in project.delivery_types"  e-ng-disabled="!beneficiary.beneficiary_type_id">
          {{ project.showDelivery($data, beneficiary) }}
        </span>
      </td>
      <td ng-show="project.showSessions()">
        <!-- editable number -->
        <span editable-number="beneficiary.sessions" e-name="sessions" e-form="rowform" e-min="0" e-ng-change="project.updateInput($locationIndex, $index, 'sessions', $data )" e-ng-disabled="project.rowSessionsDisabled( beneficiary )" e-required>
          {{ beneficiary.sessions }}
        </span>
      </td>
      <td ng-show="project.definition.cluster_id === 'wash' || project.definition.cluster_id === 'esnfi'">
        <!-- editable number -->
        <span editable-number="beneficiary.families" e-name="families" e-form="rowform" e-min="0" e-ng-change="project.updateInput($locationIndex, $index, 'families', $data )" e-required>
          {{ beneficiary.families }}
        </span>
      </td>
      <td>
        <!-- editable number -->
        <span editable-number="beneficiary.boys" e-name="boys" e-form="rowform" e-min="0" e-ng-change="project.updateInput($locationIndex, $index, 'boys', $data )" e-required>
          {{ beneficiary.boys }}
        </span>
      </td>
      <td>
        <!-- editable number -->
        <span editable-number="beneficiary.girls" e-name="girls" e-form="rowform" e-min="0" e-ng-change="updateInput($locationIndex, $index, 'girls', $data )" e-required>
          {{ beneficiary.girls }}
        </span>
      </td>
      <td>
        <!-- editable number -->
        <span editable-number="beneficiary.men" e-name="men" e-form="rowform" e-min="0" e-ng-change="project.updateInput($locationIndex, $index, 'men', $data )" e-required>
          {{ beneficiary.men }}
        </span>
      </td>
      <td>
        <!-- editable number -->
        <span editable-number="beneficiary.women" e-name="women" e-form="rowform" e-min="0" e-ng-change="project.updateInput($locationIndex, $index, 'women', $data )" e-required>
          {{ beneficiary.women }}
        </span>
      </td>
      
      <td style="white-space: nowrap" ng-show="project.report.report_status !== 'complete'">
        <!-- form -->
        <form editable-form name="rowform" onshow="project.keydownSaveForm()" ng-show="rowform.$visible" onbeforesave="project.save( false )" class="form-buttons form-inline" shown="inserted == beneficiary">
          <button type="submit" ng-if="rowform.$visible" ng-disabled="project.rowSaveDisabled(rowform.$data)" class="btn waves-effect waves-light save" title="Save">
            <i class="material-icons">save</i>
          </button>
          <button type="button" ng-if="rowform.$visible" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()" class="btn blue lighten-1 waves-effect waves-light" title="Cancel Edit">
						<i class="material-icons">clear</i>
          </button>
        </form>
        <div class="buttons" ng-if="!rowform.$visible">
          <button class="btn waves-effect waves-light" ng-click="rowform.$show()" title="Edit">
						<i class="material-icons">create</i>
          </button>
          <button class="btn red lighten-2 waves-effect waves-light" ng-click="project.removeBeneficiary( $locationIndex, $index )" title="Remove">
          	<i class="material-icons">delete</i>
          </button>
        </div>  
      </td>
    </tr>
  </table>

  <button class="btn" ng-show="project.report.report_status !== 'complete'" ng-click="project.addBeneficiary( $locationIndex )">
    <i class="material-icons left">add</i>Add Row
  </button>

</div>

<br/>
