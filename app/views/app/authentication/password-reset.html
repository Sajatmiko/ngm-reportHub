
<style>

	/* overflow for dropdown */
	.collection {
		overflow: visible !important;
	}

	/* input label */
	.input-field label,
	.input-field input:disabled + label {
		color: #26a69a;
	}
	/* valid input */
	.input-field input.valid {
		border-bottom: 1px solid #26a69a;
		box-shadow: 0 1px 0 0 #26a69a;		
	}
	/* valid input on focus */
	.input-field input:focus.valid {
		border-bottom: 1px solid #4dd0e1;
		box-shadow: 0 1px 0 0 #4dd0e1;
	}
	/* invalid input on focus */
	.input-field input:focus.invalid {
		border-bottom: 1px solid #e57373;
		box-shadow: 0 1px 0 0 #e57373;
	}
	/* border for disabled */
	.input-field input:disabled, .select-wrapper input.select-dropdown:disabled {
		color: #616161;
		box-shadow: none !important;
		border-bottom: 1px dotted rgba(0, 0, 0, 0.26) !important;
	}

	/* form validation on submit */
	.ng-submitted .input-field input[type='text'].ng-invalid + label,
		.ng-submitted .input-field input[type='number'].ng-invalid + label,
		.ng-submitted .input-field input[type='email'].ng-invalid + label,
		.ng-submitted .input-field input[type='password'].ng-invalid + label {
		color: #e57373;
		font-weight: 400;
	}

	/* manual class for label error */
	.input-field.error-label label {
		color: #e57373;
		font-weight: 400;		
	}


</style>

<!-- bind html -->
<div id="ngmResetPasswordPanel" class="row">
	
	<div class="col l4 m4 s12">
	 
	 <div class="ngm-login-title">
			
			<h3 style="font-weight:100;padding-left:20px;">Report Hub</h3>

			<div class="card">
		    	
	    	<form name="ngmResetPasswordForm" class="col s12" style="padding:20px;" novalidate>

		      <div class="row">
		        <div class="input-field col s12">
		        	<i class="material-icons prefix">lock_outline</i>
		          <input id="ngm-password-new" type="password" class="validate"
								ng-model="panel.user.newPassword"
								required>
		          <label for="ngm-password-new">New Password</label>
		        </div>
		      </div>

		      <div class="row">
		        <div class="input-field col s12">
		        	<i class="material-icons prefix">lock_outline</i>
		          <input id="ngm-password-confirm" type="password" class="validate"
		          	name="pwConfirm"
								ng-model="panel.user.confirmPassword"
								pw-check="ngm-password-new"
								required>
		          <label for="ngm-password-confirm">Confirm Password</label>
		        </div>
		      </div>

					<p ng-if="panel.error.msg"
						ng-bind-html="panel.error.msg"
						style="text-align:center; color: #ef5350;">
					<p>

					<p ng-if="ngmResetPasswordForm.pwConfirm.$error.pwmatch"
						style="text-align:center; color: #ef5350;">
						Passwords do not match!
					<p>					

					<button
						style="width: 100%;" 
						class="btn btn-large waves-effect waves-teal" 
						type="submit"
						ng-disabled="ngmResetPasswordForm.$invalid"
						ng-click="panel.passwordReset(ngmResetPasswordForm, panel.token)">
								Update Password
					</button>
		    
		  	</form>

			</div>

		</div>

	</div>

	<div class="col l8 m8 hide-on-small-only"> 
		<div class="card center promo blue-grey darken-1" style="height: 456px; padding-top: 10%;">
			<img title="Search for your account using your ReportHub email" src="images/password-reset.png" height="324px"/>
		</div>
	</div>

</div>

<div>
	<div style="background: {{ panel.style.lightPrimaryColor }}; height:20px;"></div>
	<div style="background: {{ panel.style.defaultPrimaryColor }}; height:60px;">
		<p class="ngm-menu-footer-body">Supported by <a class="grey-text" href="http://immap.org"><b>iMMAP</b></a></p>
	</div>
</div>
